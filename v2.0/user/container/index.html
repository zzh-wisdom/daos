



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Distributed Asynchronous Object Storage">
      
      
        <link rel="canonical" href="https://cdurf1.github.io/user/container/">
      
      
        <meta name="author" content="DAOS Project">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-4.6.3">
    
    
      
        <title>Container Management - DAOS</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700%7CUbuntu+Mono&display=fallback">
        <style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../css/version-select.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#container-management" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://cdurf1.github.io/" title="DAOS" aria-label="DAOS" class="md-header-nav__button md-logo">
          
            <img alt="logo" src="../../intel_logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              DAOS
            </span>
            <span class="md-header-nav__topic">
              
                Container Management
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/cdurf1/cdurf1.github.io/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    daos-stack/daos
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../overview/terminology/" class="md-tabs__link">
          Architecture Overview
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../admin/hardware/" class="md-tabs__link">
          Administration Guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="./" class="md-tabs__link md-tabs__link--active">
          User Guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../release/releaseNote_v1_0/" class="md-tabs__link">
          Releases
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../dev/development/" class="md-tabs__link">
          Developer Zone
        </a>
      
    </li>
  

      
        
      
        
      
        
      
        
      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://cdurf1.github.io/" title="DAOS" class="md-nav__button md-logo">
      
        <img alt="logo" src="../../intel_logo.png" width="48" height="48">
      
    </a>
    DAOS
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/cdurf1/cdurf1.github.io/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    daos-stack/daos
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Architecture Overview
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Architecture Overview
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/terminology/" title="Terminology" class="md-nav__link">
      Terminology
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/storage/" title="Storage Model" class="md-nav__link">
      Storage Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/transaction/" title="Transaction Model" class="md-nav__link">
      Transaction Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/fault/" title="Fault Model" class="md-nav__link">
      Fault Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/security/" title="Security Model" class="md-nav__link">
      Security Model
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Administration Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Administration Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/hardware/" title="Hardware Requirements" class="md-nav__link">
      Hardware Requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/installation/" title="Software Installation" class="md-nav__link">
      Software Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/predeployment_check/" title="Pre-deployment Checklist" class="md-nav__link">
      Pre-deployment Checklist
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/deployment/" title="System Deployment" class="md-nav__link">
      System Deployment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/administration/" title="System Administration" class="md-nav__link">
      System Administration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/pool_operations/" title="Pool Operations" class="md-nav__link">
      Pool Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/tiering_uns/" title="Tiering and Unified Namespace" class="md-nav__link">
      Tiering and Unified Namespace
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/performance_tuning/" title="Performance Tuning" class="md-nav__link">
      Performance Tuning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/utilities_examples/" title="Utilities and Usage Examples" class="md-nav__link">
      Utilities and Usage Examples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/env_variables/" title="Environment Variables" class="md-nav__link">
      Environment Variables
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      User Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        User Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Container Management
      </label>
    
    <a href="./" title="Container Management" class="md-nav__link md-nav__link--active">
      Container Management
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#container-creationdestroy" class="md-nav__link">
    Container Creation/Destroy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#container-properties" class="md-nav__link">
    Container Properties
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-integrity" class="md-nav__link">
    Data Integrity
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inline-deduplication-preview" class="md-nav__link">
    Inline Deduplication (Preview)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compression-encryption" class="md-nav__link">
    Compression &amp; Encryption
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#snapshot-rollback" class="md-nav__link">
    Snapshot &amp; Rollback
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-attributes" class="md-nav__link">
    User Attributes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-control-lists" class="md-nav__link">
    Access Control Lists
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pool-vs-container-permissions" class="md-nav__link">
    Pool vs. Container Permissions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-containers-with-custom-acl" class="md-nav__link">
    Creating Containers with Custom ACL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#displaying-a-containers-acl" class="md-nav__link">
    Displaying a Container's ACL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifying-a-containers-acl" class="md-nav__link">
    Modifying a Container's ACL
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overwriting-the-acl" class="md-nav__link">
    Overwriting the ACL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-and-updating-aces" class="md-nav__link">
    Adding and Updating ACEs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removing-an-ace" class="md-nav__link">
    Removing an ACE
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ownership" class="md-nav__link">
    Ownership
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#privileges" class="md-nav__link">
    Privileges
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-containers-with-specific-ownership" class="md-nav__link">
    Creating Containers with Specific Ownership
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-ownership" class="md-nav__link">
    Changing Ownership
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../interface/" title="Native Programming Interface" class="md-nav__link">
      Native Programming Interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../posix/" title="POSIX Namespace" class="md-nav__link">
      POSIX Namespace
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mpi-io/" title="MPI-IO Support" class="md-nav__link">
      MPI-IO Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../hdf5/" title="HDF5 Support" class="md-nav__link">
      HDF5 Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../spark/" title="Spark and Hadoop" class="md-nav__link">
      Spark and Hadoop
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Releases
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Releases
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/releaseNote_v1_0/" title="Release Notes" class="md-nav__link">
      Release Notes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Developer Zone
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Developer Zone
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../dev/development/" title="Dev Environment" class="md-nav__link">
      Dev Environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dev/contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://github.com/daos-stack/daos/blob/master/src/README.md" title="DAOS Internals" class="md-nav__link">
      DAOS Internals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../html/" title="DAOS API Documentation" class="md-nav__link">
      DAOS API Documentation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://wiki.hpdd.intel.com" title="Community Wiki" class="md-nav__link">
      Community Wiki
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://wiki.hpdd.intel.com/display/DC/Roadmap/" title="Roadmap" class="md-nav__link">
      Roadmap
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://daos.groups.io/g/daos" title="Mailing list" class="md-nav__link">
      Mailing list
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://jira.hpdd.intel.com/projects/DAOS" title="Issue tracker" class="md-nav__link">
      Issue tracker
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#container-creationdestroy" class="md-nav__link">
    Container Creation/Destroy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#container-properties" class="md-nav__link">
    Container Properties
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-integrity" class="md-nav__link">
    Data Integrity
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inline-deduplication-preview" class="md-nav__link">
    Inline Deduplication (Preview)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compression-encryption" class="md-nav__link">
    Compression &amp; Encryption
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#snapshot-rollback" class="md-nav__link">
    Snapshot &amp; Rollback
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-attributes" class="md-nav__link">
    User Attributes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-control-lists" class="md-nav__link">
    Access Control Lists
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pool-vs-container-permissions" class="md-nav__link">
    Pool vs. Container Permissions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-containers-with-custom-acl" class="md-nav__link">
    Creating Containers with Custom ACL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#displaying-a-containers-acl" class="md-nav__link">
    Displaying a Container's ACL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifying-a-containers-acl" class="md-nav__link">
    Modifying a Container's ACL
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overwriting-the-acl" class="md-nav__link">
    Overwriting the ACL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-and-updating-aces" class="md-nav__link">
    Adding and Updating ACEs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removing-an-ace" class="md-nav__link">
    Removing an ACE
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ownership" class="md-nav__link">
    Ownership
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#privileges" class="md-nav__link">
    Privileges
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-containers-with-specific-ownership" class="md-nav__link">
    Creating Containers with Specific Ownership
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-ownership" class="md-nav__link">
    Changing Ownership
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/cdurf1/cdurf1.github.io/edit/master/docs/user/container.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="container-management">Container Management<a class="headerlink" href="#container-management" title="Permanent link">&para;</a></h1>
<p>DAOS containers are the unit of data management for users.</p>
<h2 id="container-creationdestroy">Container Creation/Destroy<a class="headerlink" href="#container-creationdestroy" title="Permanent link">&para;</a></h2>
<p>Containers can be created and destroyed through the daos_cont_create/destroy()
functions exported by the DAOS API. A user tool called <code>daos</code> is also
provided to manage containers.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In DAOS 1.0, in order to use the <code>daos</code> command the following environment
variables need to be set (this is no longer needed in later versions of DAOS):</p>
<ul>
<li><strong>For Omni-Path:</strong> <code>export OFI_INTERFACE="ib0"; export CRT_PHY_ADDR_STR="ofi+psm2"</code></li>
<li><strong>For InfiniBand:</strong> <code>export OFI_INTERFACE="ib0"; export CRT_PHY_ADDR_STR="ofi+verbs;ofi_rxm"; export OFI_DOMAIN="mlx5_0"</code></li>
</ul>
</div>
<p>To create a container:</p>
<pre><code class="bash">$ daos cont create --pool=a171434a-05a5-4671-8fe2-615aa0d05094 --svc=0
Successfully created container 008123fc-6b6c-4768-a88a-a2a5ef34a1a2
</code></pre>

<p>The container type (i.e., POSIX or HDF5) can be passed via the --type option.
As shown below, the pool UUID, container UUID, and container attributes can be
stored in the extended attributes of a POSIX file or directory for convenience.
Then subsequent invocations of the daos tools need to reference the path
to the POSIX file or directory.</p>
<pre><code class="bash">$ daos cont create --pool=a171434a-05a5-4671-8fe2-615aa0d05094 \
      --svc=0 --path=/tmp/mycontainer --type=POSIX --oclass=large \
      --chunk_size=4K
Successfully created container 419b7562-5bb8-453f-bd52-917c8f5d80d1 type POSIX

$ daos container query --svc=0 --path=/tmp/mycontainer
Pool UUID:      a171434a-05a5-4671-8fe2-615aa0d05094
Container UUID: 419b7562-5bb8-453f-bd52-917c8f5d80d1
Number of snapshots: 0
Latest Persistent Snapshot: 0
DAOS Unified Namespace Attributes on path /tmp/mycontainer:
Container Type: POSIX
Object Class:   large
Chunk Size:     4096
</code></pre>

<h2 id="container-properties">Container Properties<a class="headerlink" href="#container-properties" title="Permanent link">&para;</a></h2>
<p>At creation time, a list of container properties can be specified:</p>
<table>
<thead>
<tr>
<th><strong>Container Property</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DAOS_PROP_CO_LABEL</code><img width=400/></td>
<td>A string that a user can associate with a container. e.g., "Cat Pics" or "ResNet-50 training data"</td>
</tr>
<tr>
<td><code>DAOS_PROP_CO_LAYOUT_TYPE</code></td>
<td>The container type (POSIX, MPI-IO, HDF5, ...)</td>
</tr>
<tr>
<td><code>DAOS_PROP_CO_LAYOUT_VER</code></td>
<td>A version of the layout that can be used by I/O middleware and application to handle interoperability.</td>
</tr>
<tr>
<td><code>DAOS_PROP_CO_REDUN_FAC</code></td>
<td>The redundancy factor that drives the minimal data protection required for objects stored in the container. e.g., RF1 means no data protection, RF3 only allows 3-way replication or erasure code N+2.</td>
</tr>
<tr>
<td><code>DAOS_PROP_CO_REDUN_LVL</code></td>
<td>The fault domain level that should be used to place data redundancy information (e.g., storage nodes, racks...). This information will be eventually consumed to determine object placement.</td>
</tr>
</tbody>
</table>
<p>While those properties are currently stored persistently with container
metadata, many of them are still under development. The ability to modify some
of these properties on an existing container will also be provided in a future
release.</p>
<h2 id="data-integrity">Data Integrity<a class="headerlink" href="#data-integrity" title="Permanent link">&para;</a></h2>
<p>DAOS allows to detect and fix (when data protection is enabled) silent data
corruptions. This is done by calculating checksums for both data and metadata
in the DAOS library on the client side and storing those checksums persistently
in SCM. The checksums will then be validated on access and on update/write as
well on the server side if server verify option is enabled.</p>
<p>Corrupted data will never be returned to the application. When a corruption is
detected, DAOS will try to read from a different replica, if any.  If the
original data cannot be recovered, then an error will be reported to the
application.</p>
<p>To enable and configure checksums, the following container properties are used
during container create.</p>
<ul>
<li><code>DAOS_PROP_CO_CSUM</code>: Type of checksum algorithm to use. Supported values are</li>
</ul>
<pre><code class="c">  DAOS_PROP_CO_CSUM_OFF, // default
  DAOS_PROP_CO_CSUM_CRC16,
  DAOS_PROP_CO_CSUM_CRC32,
  DAOS_PROP_CO_CSUM_CRC64,
  DAOS_PROP_CO_CSUM_SHA1,
  DAOS_PROP_CO_CSUM_SHA256,
  DAOS_PROP_CO_CSUM_SHA512
</code></pre>

<ul>
<li><code>DAOS_PROP_CO_CSUM_CHUNK_SIZE</code>: defines the chunk size used for
  creating checksums of array types. (default is 32K).</li>
<li><code>DAOS_PROP_CO_CSUM_SERVER_VERIFY</code>: Because of the probable decrease to
  IOPS, in most cases, it is not desired to verify checksums on an object
  update on the server side. It is sufficient for the client to verify on
  a fetch because any data corruption, whether on the object update,
  storage, or fetch, will be caught. However, there is an advantage to
  knowing if corruption happens on an update. The update would fail
  right away, indicating to the client to retry the RPC or report an
  error to upper levels.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that currently, once a container is created, its checksum configuration
cannot be changed.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The checksum feature is only supported in DAOS 1.2.</p>
</div>
<h2 id="inline-deduplication-preview">Inline Deduplication (Preview)<a class="headerlink" href="#inline-deduplication-preview" title="Permanent link">&para;</a></h2>
<p>Data deduplication (dedup) is a process that allows to eliminate duplicated
data copies in order to decrease capacity requirements. DAOS has some initial
support of inline dedup.</p>
<p>When dedup is enabled, each DAOS server maintains a per-pool table indexing
extents by their hash (i.e. checksum). Any new I/Os bigger than the
deduplication threshold will thus be looked up in this table to find out
whether an existing extent with the same signature has already been stored.
If an extent is found, then two options are provided:</p>
<ul>
<li>Transferring the data from the client to the server and doing a memory compare
  (i.e. memcmp) of the two extents to verify that they are indeed identical.</li>
<li>Trusting the hash function and skipping the data transfer. To minimize issue
  with hash collision, a cryptographic hash function (i.e. SHA256) is used in
  this case. The benefit of this approarch is that the data to be written does
  not need to be transferred to the server. Data processing is thus greatly
  accelerated.</li>
</ul>
<p>The inline dedup feature can be enabled on a per-container basis. To enable and
configure dedup, the following container properties are used:</p>
<ul>
<li><code>DAOS_PROP_CO_DEDUP</code>: Type of dedup mechanism to use. Supported values are</li>
</ul>
<pre><code class="c">  DAOS_PROP_CO_DEDUP_OFF, // default
  DAOS_PROP_CO_DEDUP_MEMCMP, // memory compare
  DAOS_PROP_CO_CSUM_HASH // hash-based using SHA256
</code></pre>

<ul>
<li><code>DAOS_PROP_CO_DEDUP_THRESHOLD</code>: defines the minimal I/O size to consider
  the I/O for dedup (default is 4K).</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Dedup is a feature preview in 1.2 (i.e. master) and has some known
limitations. Aggregation of deduplicated extents isn't supported and the
checksum tree isn't persistent yet. This means that aggregation is disabled
for a container with dedplication enabled and duplicated extents won't be
matched after a server restart.</p>
</div>
<h2 id="compression-encryption">Compression &amp; Encryption<a class="headerlink" href="#compression-encryption" title="Permanent link">&para;</a></h2>
<p>The <code>DAOS_PROP_CO_COMPRESS</code> and <code>DAOS_PROP_CO_ENCRYPT</code> properties are reserved
for configuring respectively online compression and encryption.
These features are currently not on the roadmap.</p>
<h2 id="snapshot-rollback">Snapshot &amp; Rollback<a class="headerlink" href="#snapshot-rollback" title="Permanent link">&para;</a></h2>
<p>Similar to container create/destroy, a container can be snapshotted through the
DAOS API by calling daos_cont_create_snap(). Additional functions are provided
to destroy and list container snapshots.</p>
<p>The API also provides the ability to subscribe to container snapshot events and
to rollback the content of a container to a previous snapshot, but those
operations are not yet fully implemented.</p>
<p>This section will be updated once support for container snapshot is supported by
the <code>daos</code> tool.</p>
<p>The <code>DAOS_PROP_CO_SNAPSHOT_MAX</code> property is used to limit the maximum number of
snapshots to retain. When a new snapshot is taken, and the threshold is reached,
the oldest snapshot will be automatically deleted.</p>
<p>Rolling back the content of a container to a snapshot is planned for future DAOS
versions.</p>
<h2 id="user-attributes">User Attributes<a class="headerlink" href="#user-attributes" title="Permanent link">&para;</a></h2>
<p>Similar to POSIX extended attributes, users can attach some metadata to each
container through the daos_cont_{list/get/set}_attr() API.</p>
<h2 id="access-control-lists">Access Control Lists<a class="headerlink" href="#access-control-lists" title="Permanent link">&para;</a></h2>
<p>Client user and group access for containers is controlled by
<a href="https://daos-stack.github.io/overview/security/#access-control-lists">Access Control Lists (ACLs)</a>.</p>
<p>Access-controlled container accesses include:</p>
<ul>
<li>
<p>Opening the container for access.</p>
</li>
<li>
<p>Reading and writing data in the container.</p>
</li>
<li>
<p>Reading and writing objects.</p>
</li>
<li>
<p>Getting, setting, and listing user attributes.</p>
</li>
<li>
<p>Getting, setting, and listing snapshots.</p>
</li>
<li>
<p>Deleting the container (if the pool does not grant the user permission).</p>
</li>
<li>
<p>Getting and setting container properties.</p>
</li>
<li>
<p>Getting and modifying the container ACL.</p>
</li>
<li>
<p>Modifying the container's owner.</p>
</li>
</ul>
<p>This is reflected in the set of supported
<a href="https://daos-stack.github.io/overview/security/#permissions">container permissions</a>.</p>
<h3 id="pool-vs-container-permissions">Pool vs. Container Permissions<a class="headerlink" href="#pool-vs-container-permissions" title="Permanent link">&para;</a></h3>
<p>In general, pool permissions are separate from container permissions, and access
to one does not guarantee access to the other. However, a user must have
permission to connect to a container's pool before they can access the
container in any way, regardless of their permissions on that container.
Once the user has connected to a pool, container access decisions are based on
the individual container ACL. A user need not have read/write access to a pool
in order to open a container with read/write access, for example.</p>
<p>There is one situation in which the pool can grant a container-level permission:
Container deletion. If a user has Delete permission on a pool, this grants them
the ability to delete <em>any</em> container in the pool, regardless of their
permissions on that container.</p>
<p>If the user does not have Delete permission on the pool, they will only be able
to delete containers for which they have been explicitly granted Delete
permission in the container's ACL.</p>
<p>!!! note:
    In DAOS version 1.0, permissions are set on the <em>pool</em> level and all containers
    in the pool inherit the permissions of the pool. Starting with DAOS version 1.2,
    pool and container permissions are controlled individually.</p>
<h3 id="creating-containers-with-custom-acl">Creating Containers with Custom ACL<a class="headerlink" href="#creating-containers-with-custom-acl" title="Permanent link">&para;</a></h3>
<p>To create a container with a custom ACL:</p>
<pre><code class="bash">$ daos cont create --pool=&lt;UUID&gt; --svc=&lt;rank&gt; --acl-file=&lt;path&gt;
</code></pre>

<p>The ACL file format is detailed in the <a href="https://daos-stack.github.io/overview/security/#acl-file">ACL section</a>.</p>
<h3 id="displaying-a-containers-acl">Displaying a Container's ACL<a class="headerlink" href="#displaying-a-containers-acl" title="Permanent link">&para;</a></h3>
<p>To view a container's ACL:</p>
<pre><code class="bash">$ daos cont get-acl --pool=&lt;UUID&gt; --svc=&lt;rank&gt; --cont=&lt;UUID&gt;
</code></pre>

<p>The output is in the same string format used in the ACL file during creation,
with one ACE per line.</p>
<h3 id="modifying-a-containers-acl">Modifying a Container's ACL<a class="headerlink" href="#modifying-a-containers-acl" title="Permanent link">&para;</a></h3>
<p>For all of these commands using an ACL file, the ACL file must be in the format
noted above for container creation.</p>
<h4 id="overwriting-the-acl">Overwriting the ACL<a class="headerlink" href="#overwriting-the-acl" title="Permanent link">&para;</a></h4>
<p>To replace a container's ACL with a new ACL:</p>
<pre><code class="bash">$ daos cont overwrite-acl --pool=&lt;UUID&gt; --svc=&lt;rank&gt; --cont=&lt;UUID&gt; \
      --acl-file=&lt;path&gt;
</code></pre>

<h4 id="adding-and-updating-aces">Adding and Updating ACEs<a class="headerlink" href="#adding-and-updating-aces" title="Permanent link">&para;</a></h4>
<p>To add or update multiple entries in an existing container ACL:</p>
<pre><code class="bash">$ daos cont update-acl --pool=&lt;UUID&gt; --svc=&lt;rank&gt; --cont=&lt;UUID&gt; \
      --acl-file=&lt;path&gt;
</code></pre>

<p>To add or update a single entry in an existing container ACL:</p>
<pre><code class="bash">$ daos cont update-acl --pool=&lt;UUID&gt; --svc=&lt;rank&gt; --cont=&lt;UUID&gt; --entry &lt;ACE&gt;
</code></pre>

<p>If there is no existing entry for the principal in the ACL, the new entry is
added to the ACL. If there is already an entry for the principal, that entry
is replaced with the new one.</p>
<h4 id="removing-an-ace">Removing an ACE<a class="headerlink" href="#removing-an-ace" title="Permanent link">&para;</a></h4>
<p>To delete an entry for a given principal in an existing container ACL:</p>
<pre><code class="bash">$ daos cont delete-acl --pool=&lt;UUID&gt; --svc=&lt;rank&gt; --cont=&lt;UUID&gt; \
      --principal=&lt;principal&gt;
</code></pre>

<p>The principal corresponds to the principal portion of an ACE that was
set during container creation or a previous container ACL operation. For the
delete operation, the principal argument must be formatted as follows:</p>
<ul>
<li>Named user: <code>u:username@</code></li>
<li>Named group: <code>g:groupname@</code></li>
<li>Special principals:</li>
<li><code>OWNER@</code></li>
<li><code>GROUP@</code></li>
<li><code>EVERYONE@</code></li>
</ul>
<p>The entry for that principal will be completely removed. This does not always
mean that the principal will have no access. Rather, their access to the
container will be decided based on the remaining ACL rules.</p>
<h3 id="ownership">Ownership<a class="headerlink" href="#ownership" title="Permanent link">&para;</a></h3>
<p>The ownership of the container corresponds to the special principals <code>OWNER@</code>
and <code>GROUP@</code> in the ACL. These values are a part of the container properties.
They may be set on container creation and changed later.</p>
<h4 id="privileges">Privileges<a class="headerlink" href="#privileges" title="Permanent link">&para;</a></h4>
<p>The owner-user (<code>OWNER@</code>) has implicit privileges on their container. The
owner-user can always open the container, and has set-ACL (A) and get-ACL (a)
permissions. These permissions are included alongside any permissions that the
user was explicitly granted by entries in the ACL.</p>
<p>Because the owner's special permissions are implicit, they apply to access
control decisions even if they do not appear in the <code>OWNER@</code> entry, and even if
the <code>OWNER@</code> entry is deleted.</p>
<p>The owner-group (<code>GROUP@</code>) has no special permissions outside what they are
granted by the ACL.</p>
<h4 id="creating-containers-with-specific-ownership">Creating Containers with Specific Ownership<a class="headerlink" href="#creating-containers-with-specific-ownership" title="Permanent link">&para;</a></h4>
<p>The default owner user and group are the effective user and group of the user
creating the container. However, a specific user and/or group may be specified
at container creation time.</p>
<pre><code class="bash">$ daos cont create --pool=&lt;UUID&gt; --svc=&lt;rank&gt; --user=&lt;owner-user&gt; \
      --group=&lt;owner-group&gt;
</code></pre>

<p>The user and group names are case sensitive and must be formatted as
<a href="https://daos-stack.github.io/overview/security/#principal">DAOS ACL user/group principals</a>.</p>
<h4 id="changing-ownership">Changing Ownership<a class="headerlink" href="#changing-ownership" title="Permanent link">&para;</a></h4>
<p>To change the owner user:</p>
<pre><code class="bash">$ daos cont set-owner --pool=&lt;UUID&gt; --svc=&lt;rank&gt; --cont=&lt;UUID&gt; \
      --user=&lt;owner-user&gt;
</code></pre>

<p>To change the owner group:</p>
<pre><code class="bash">$ daos cont set-owner --pool=&lt;UUID&gt; --svc=&lt;rank&gt; --cont=&lt;UUID&gt; \
      --group=&lt;owner-group&gt;
</code></pre>

<p>The user and group names are case sensitive and must be formatted as
<a href="https://daos-stack.github.io/overview/security/#principal">DAOS ACL user/group principals</a>.</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../admin/env_variables/" title="Environment Variables" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Environment Variables
              </span>
            </div>
          </a>
        
        
          <a href="../interface/" title="Native Programming Interface" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Native Programming Interface
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1.2",url:{base:"../.."}})</script>
      
        <script src="../../js/version-select.js"></script>
      
    
  </body>
</html>